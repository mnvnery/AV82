<!DOCTYPE html>
<html>
    <head>
        <title>AV82 STUDIO</title>
<meta content="width=device-width, initial-scale=1" name="viewport" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous"><link rel="stylesheet" href="https://unpkg.com/flickity@2/dist/flickity.min.css">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="/AV82/assets/css/styles.css">
<meta itemprop="description" name="description" content="AV82 é um estúdio de fotografia e vídeo localizado no centro do Porto. Este é um espaço que não só permite a realização de trabalhos fotográficos como também..." />
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.8.0/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.8.0/ScrollTrigger.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="/AV82/assets/js/scripts.js" defer></script>
<script src="/AV82/assets/js/language.js" defer></script>
<link rel="stylesheet" href="https://use.typekit.net/mke7hkk.css">
<link rel="apple-touch-icon" sizes="180x180" href="/AV82/assets/img/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/AV82/assets/img/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/AV82/assets/img/favicon-16x16.png">
<link rel="manifest" href="/AV82/assets/img/site.webmanifest">
<link rel="shortcut icon" href="/AV82/assets/img/favicon.ico">
<meta property="og:title" content="AV82 STUDIO">
<meta property="og:description" content="AV82 é um estúdio de fotografia e vídeo localizado no centro do Porto. Este é um espaço que não só permite a realização de trabalhos fotográficos como também o aluguer de material, seja ele de fotografia ou video."> 

    </head>
    <body>
            <div class="burger-container">
                <button class="hamburger hamburger--collapse" type="button">
                    <span class="hamburger-box">
                    <span class="hamburger-inner"></span>
                    </span>
                </button>
            </div>
            <div class="navmenu-container">
                <div class="img-containers">
                    <div class="left-img-container">
                        <img src="/AV82/assets/img/rental.webp" alt="" class="navmenu-img left-img">
                    </div>
                    <div class="right-img-container">
                        <img src="/AV82/assets/img/production.webp" alt="" class="navmenu-img right-img">
                    </div>
                </div>
                <div class="line-container">
                    <div class="line border-white"></div>
                </div>
                <nav class="navmenu">
                    <h2 class="rental-title"><a href="/AV82/rental">RENTAL</a></h2>
                    <h2 class="prod-title"><a href="/AV82/film">PRODUCTION</a></h2>
                </nav>
            </div>
            <div class="language-switcher">
                <span id="#pt" class="lang-selector pt-selector active">PT</span> / <span id="#eng" class="lang-selector eng-selector"> ENG</span>
            </div>
            <div class="nav-logo">
    <a href="/AV82/">
        <img src="/AV82/assets/img/logo_preto.png" alt="" class="logo-img">
        <img src="/AV82/assets/img/logo_mobile_preto.png" alt="" class="logo-mobile-img">
    </a>
</div>
<h2 class="px-3 pt-5 pb-2">CHECKOUT</h2>
<form name="checkout" method="POST" netlify-honeypot="bot-field"
data-netlify="true" class="booking-form">
    <div class="p-3">
        <div class="d-flex">
            <div class="me-5 order-left-side">
                <div class="allcontent">

                </div>
                <div class="d-flex w-100 justify-content-between my-3"><span class="eng">TOTAL PER DAY</span><span class="pt">TOTAL POR DIA</span> <span class="total-cart"> / EUR</span></div>
                <div class="border-bottom border-dark my-2 w-100"></div>
                <div class="small-text mt-5"><span class="eng"><p>Use this form to select your desired dates and receive a price estimate. This is only a contact form and not a payment gateway. We can't guarantee these products to be available for your required dates. Our team will get in touch to confirm your booking and provide any further details necessary. Payment is taken on site upon collection.</p></span><span class="pt"><p>Neste formulário poderá seleccionar as datas desejadas e calcular uma estimativa do preço total da reserva. Não podemos garantir que este produto terá disponibilidade para as datas desejadas, mas a nossa equipa entrará em contacto para confirmar o seu pedido e fornecer qualquer informação em falta. O pagamento será efectuado presencialmente. </p></span></div>
            </div>
            <div class='ms-5'>
                <input type="text" name="name" placeholder="Name*" required="required" class="w-100">
                <input type="email" name="email" placeholder="Email*" required="required" class="w-100"><br>
                <input type="date" name="start date" placeholder="Start Date" required="required" class="start-date">
                <input type="date" name="end date" placeholder="End Date" required="required" class="end-date"><br>
                <textarea name="order notes" placeholder="Notes" class="w-100 order-notes"></textarea><br>
                <div class="d-flex w-100 justify-content-between my-3"><div>GRAND TOTAL</div> <span class="grand-total-cart"> / EUR</span></div>
                <div class="border-bottom border-dark my-2 w-100"></div>
                <button type="submit" class="request mt-2 w-100 pb-3 border-bottom border-dark"><span class="eng">SUBMIT REQUEST</span><span class="pt">PEDIDO DE RESERVA</span></button>
            </div>
        </div>
    </div>
</form>


<script>

let shoppingCart = (function() {
    cart = JSON.parse(sessionStorage.getItem('shoppingCart'));
    console.log(cart)

    var obj = {};
    obj.listCart = function() {
    var cartCopy = [];
    for(i in cart) {
        item = cart[i];
        itemCopy = {};
        for(p in item) {
            itemCopy[p] = item[p];

        }
        itemCopy.total = Number(item.price * item.count).toFixed(2);
        cartCopy.push(itemCopy)
        }
        return cartCopy;
    }
    obj.totalCart = function() {
        var totalCart = 0;
        for(var item in cart) {
        totalCart += cart[item].price * cart[item].count;
        }
        return Number(totalCart.toFixed(2));
    }
    return obj;
})();

function displayCart() {
    let cartArray = shoppingCart.listCart();
    let output = "";
    for(let i in cartArray) {
        output += '<div class="cart-item d-flex align-items-baseline border-bottom border-dark "><input class="w-100 p-0" type="text" name="products[]" disabled value="' + cartArray[i].name + '"/><span>x' + cartArray[i].count + '</span><input class="w-100 border-top" type="hidden" name="products[]" value="' + cartArray[i].name + '"/></div>'
    }

    $('.allcontent').prepend(output);
    $('.total-cart').html(shoppingCart.totalCart() + "  EUR");
}

displayCart();

let dayPrice = shoppingCart.totalCart();
let totalPrice = 0;

$('.end-date, .start-date').on("change", function () {
    let start = new Date($('.start-date').val());
    let end = new Date($('.end-date').val());
    let diff = 1000 * 60 * 60 * 24;
    let start_date = $('.start-date').val();
    $(".end-date").attr("min", start_date );

    let date_diff = end - start;
    let days_diff = date_diff / (1000 * 3600 * 24);
    let totalPrice = dayPrice * days_diff

    if (days_diff < 3) {      
        $('.grand-total-cart').html(totalPrice);
    }           
    else if (days_diff >= 3 || days_diff < 7) {
        discountPrice = .25;
        totalPrice = totalPrice - (totalPrice * discountPrice);
        $('.grand-total-cart').html(totalPrice);
    }
    else if (days_diff >= 7 || days_diff < 30) {
        discountPrice = .40;
        totalPrice = totalPrice - (totalPrice * discountPrice); 
        $('.grand-total-cart').html(totalPrice);   
    }
    else if (days_diff >= 30) {
        discountPrice = .55;
        totalPrice = totalPrice - (totalPrice * discountPrice);  
        $('.grand-total-cart').html(totalPrice);  
    }
  });

</script>
    </body>
</html>